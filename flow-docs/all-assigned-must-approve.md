---
title: สร้างโฟลว์การอนุมัติที่ทุกคนต้องอนุมัติ | Microsoft Docs
description: สร้างโฟลว์การอนุมัติที่ทุกคนต้องอนุมัติ หรือปฏิเสธคำขอได้โดยบุคคลเดียว
services: ''
suite: flow
documentationcenter: na
author: msftman
manager: anneta
editor: ''
tags: ''
ms.service: flow
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 02/27/2018
ms.author: deonhe
search.app:
- Flow
search.audienceType:
- flowmaker
- enduser
ms.openlocfilehash: 141eb19018e080191bf0fe2ba6f47f0739d347d7
ms.sourcegitcommit: a20fbed9941f0cd8b69dc579277a30da9c8bb31b
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 09/12/2018
ms.locfileid: "44689720"
---
# <a name="create-an-approval-flow-that-requires-everyone-to-approve"></a>สร้างโฟลว์การอนุมัติที่ทุกคนต้องอนุมัติ

การฝึกปฏิบัตินี้แสดงวิธีการสร้างเวิร์กโฟลว์การอนุมัติที่จำเป็นต้องให้ทุกคน (ผู้อนุมัติที่ถูกมอบหมายทั้งหมด) ตกลงกันสำหรับคำขอวันหยุดพักผ่อน แต่ผู้อนุมัติคนใดก็ได้สามารถปฏิเสธคำขอทั้งหมด

เวิร์กโฟลว์การอนุมัติชนิดนี้จะมีประโยชน์ในองค์กรที่จำเป็นต้องให้ ผู้จัดการของบุคคลและผู้จัดการของผู้จัดการ ทั้งสองคนยอมรับคำขอวันหยุดพักผ่อน ถึงจะถือว่าได้รับการอนุมัติ แต่ผู้จัดการคนใดคนหนึ่งสามารถปฏิเสธการร้องขอได้โดยไม่ต้องใช้ความเห็นของอีกคนหนึ่ง

> [!NOTE]
> ในขณะที่การฝึกปฏิบัตินี้เน้นสถานการณ์การอนุมัติวันหยุดพักผ่อน คุณสามารถใช้โฟลว์การอนุมัติชนิดนี้ในสถานการณ์ใดก็ตามที่ต้องการผู้อนุมัติหลายคนเพื่ออนุมัติคำขอ
>
>

## <a name="prerequisites"></a>ข้อกำหนดเบื้องต้น

* เข้าถึง [Microsoft Flow](https://flow.microsoft.com), Microsoft Office 365 Outlook และผู้ใช้ Microsoft Office 365
* [รายการ](https://support.office.com/article/SharePoint-lists-I-An-introduction-f11cd5fe-bc87-4f9e-9bfe-bbd87a22a194) SharePoint

    การฝึกปฏิบัตินี้สมมุติว่า คุณได้สร้างรายการ SharePoint ที่ใช้ในการร้องขอวันลาพักร้อนเรียบร้อยแล้ว ดูการฝึกปฏิบัติ[การอนุมัติแบบขนาน](parallel-modern-approvals.md) สำหรับตัวอย่างเชิงลึกที่มีรายละเอียดว่า รายการ SharePoint ของคุณอาจมีลักษณะอย่างไร
* คุ้นเคยกับพื้นฐานของการสร้างโฟลว์

    คุณสามารถตรวจทานวิธีการเพิ่ม[การดำเนินการ, ทริกเกอร์](multi-step-logic-flow.md#add-another-action) และ[เงื่อนไข](add-condition.md)ได้ ขั้นตอนต่อไปนี้ถือว่า คุณทราบวิธีการดำเนินการเหล่านี้แล้ว

> [!NOTE]
> ในขณะที่เราใช้ SharePoint และ Office 365 Outlook ในการฝึกปฏิบัตินี้ คุณสามารถใช้บริการอื่น ๆ เช่น Zendesk, Salesforce, Gmail หรือ[บริการอื่น ๆ มากกว่า 200 บริการ](https://flow.microsoft.com/connectors/)ที่ Microsoft Flow สนับสนุนได้
>
>

## <a name="create-the-flow"></a>สร้างโฟลว์

> [!NOTE]
> ถ้าคุณยังไม่ได้สร้างการเชื่อมต่อไปยัง SharePoint หรือ Office 365 ก่อนหน้านี้ ทำตามคำแนะนำเมื่อคุณได้รับพร้อมท์ให้ลงชื่อเข้าใช้
>
>

การฝึกปฏิบัตินี้ใช้โทเค็น เพื่อแสดงรายการของโทเค็น แตะหรือคลิกที่ตัวควบคุมการป้อนข้อความใด ๆ แล้วค้นหาโทเค็นในรายการ **เนื้อหาแบบไดนามิก** ที่เปิดขึ้น

ลงชื่อเข้าใช้ [Microsoft Flow](https://flow.microsoft.com) จากนั้น ทำตามขั้นตอนต่อไปนี้เพื่อสร้างโฟลว์ของคุณ

1. เลือก **โฟลว์ของฉัน** > **สร้างจากว่างเปล่า** ด้านบนขวาของหน้าจอ
1. เพิ่มทริกเกอร์ **SharePoint - เมื่อรายการถูกสร้างหรือปรับเปลี่ยน**
1. ใส่**ที่อยู่ไซต์**สำหรับไซต์ SharePoint ที่โฮสต์รายการร้องขอวันหยุดพักผ่อนของคุณ จากนั้นเลือกรายการ**ชื่อรายการ**
1. เพิ่มการดำเนินการ**ผู้ใช้ Office 365 - รับผู้จัดการ V2** เลือกกล่อง**ผู้ใช้ (UPN)** จากนั้นเพิ่มโทเค็น**สร้างโดยอีเมล**ลงไป

    โทเค็น**สร้างโดยอีเมล** จะอยู่ภายใต้ประเภท**เมื่อรายการถูกสร้างหรือปรับเปลี่ยน** ของรายการ**เนื้อหาแบบไดนามิก** โทเค็นนี้ให้การเข้าถึงข้อมูลแบบไดนามิก เกี่ยวกับผู้จัดการของบุคคลที่สร้างรายการใน SharePoint

1. เพิ่มอีกการดำเนินการ**ผู้ใช้ Office 365 - รับผู้จัดการ V2** แล้วเพิ่มโทเค็น**จดหมาย** ไปที่กล่อง**ผู้ใช้ (UPN)**

    โทเค็น**อีเมล** จะอยู่ภายใต้ประเภท**รับผู้จัดการ V2 2** ของรายการ**เนื้อหาแบบไดนามิก** โทเค็นนี้ให้การเข้าถึงข้อมูลแบบไดนามิก ไปยังที่อยู่อีเมลผู้จัดการของผู้จัดการ

    คุณยังสามารถเปลี่ยนชื่อการ์ด**รับผู้จัดการ V2 2** เป็นชื่ออื่นที่มีความหมายเช่น "ผู้จัดการข้ามระดับ" ได้
1. เพิ่มการดำเนินการ**เริ่มการอนุมัติ** จากนั้นเลือก**ทุกคนจากรายการที่ได้รับมอบหมาย** จากรายการ**ชนิดการอนุมัติ**

   > [!IMPORTANT]
   > ถ้าผู้อนุมัติใด ๆ ปฏิเสธ คำขออนุมัติจะถือว่าปฏิเสธสำหรับผู้อนุมัติทั้งหมด
   >
   >
1. ใช้ตารางต่อไปนี้เป็นคำแนะนำเพื่อทำให้การ์ด**เริ่มการอนุมัติ**เสร็จสมบูรณ์

   | ฟิลด์ | คำอธิบาย |
   | --- | --- |
   |  ชนิดการอนุมัติ |ใช้**ใครก็ได้จากรายการที่ได้รับมอบหมาย** เพื่อระบุว่า ผู้อนุมัติคนใดก็ได้ สามารถอนุมัติหรือปฏิเสธคำขอ </p>ใช้**ทุกคนจากรายการที่ได้รับมอบหมาย** เพื่อระบุว่า คำขอจะได้รับอนุมัติถ้าทุกคนตกลง และคำขอถูกปฏิเสธถ้าบุคคลใดบุคคลหนึ่งปฏิเสธ |
   |  ชื่อเรื่อง |ชื่อเรื่องของการร้องขอการอนุมัติ |
   |  กำหนดให้ |ที่อยู่อีเมลของผู้อนุมัติ |
   |  รายละเอียด |ข้อมูลเพิ่มเติมที่คุณต้องการส่งไปยังผู้อนุมัติที่แสดงอยู่ในฟิลด์**กำหนดให้** |
   |  ลิงก์รายการ |URL ไปยังรายการการอนุมัติ ในตัวอย่างนี้ นี่คือลิงก์ไปยังรายการใน SharePoint |
   |  คำอธิบายของลิงก์รายการ |ข้อความอธิบายสำหรับ**ลิงก์รายการ** |

   > [!TIP]
   > การดำเนินการ**เริ่มการอนุมัติ** ให้โทเค็นหลายโทเค็น รวมถึง**การตอบสนอง**และ**สรุปการตอบสนอง** ใช้โทเค็นเหล่านี้ในโฟลว์ของคุณ เพื่อให้การรายงานผลลัพธ์จากโฟลว์ร้องขอการอนุมัติมีความครบถ้วน
   >
   >

    การ์ด**เริ่มการอนุมัติ** เป็นเทมเพลตสำหรับคำขอการอนุมัติที่ถูกส่งไปยังผู้อนุมัติ การกำหนดค่าในลักษณะที่เป็นประโยชน์สำหรับองค์กรของคุณ นี่คือตัวอย่าง

    ![เริ่มการอนุมัติ](media/all-assigned-must-approve/start-an-approval-card.png)

1. เพิ่มการดำเนินการ **Office 365 Outlook - ส่งอีเมล** แล้วกำหนดค่าเพื่อส่งอีเมลที่มีผลลัพธ์ของการร้องขอ

    นี่คือตัวอย่างลักษณะของการ์ด**ส่งอีเมล**

    ![ส่งอีเมล](media/all-assigned-must-approve/send-an-email-card.png)

> [!NOTE]
> การดำเนินการใด ๆ ที่ตามหลังการดำเนินการ**เริ่มการอนุมัติ** จะทำงานขึ้นอยู่กับการเลือกของคุณในรายการ**ชนิดการอนุมัติ** ในการ์ด**เริ่มการอนุมัติ** ตารางต่อไปนี้แสดงพฤติกรรมตามการเลือกของคุณ
>
>

| ชนิดการอนุมัติ | พฤติกรรม |
| --- | --- |
| ใครก็ได้จากรายการที่ได้รับมอบหมาย |การดำเนินการที่อยู่หลังการดำเนินการ**เริ่มการอนุมัติ** จะทำงานหลังจากที่หนึ่งในผู้อนุมัติตัดสินใจ |
| ทุกคนจากรายการที่ได้รับมอบหมาย |การดำเนินการที่อยู่หลังการดำเนินการ**เริ่มการอนุมัติ** จะทำงานหลังจากที่ผู้อนุมัติคนหนึ่งปฏิเสธ หรือทุกคนอนุมัติคำขอ |

ที่ด้านบนของหน้าจอ ใส่ชื่อสำหรับโฟลว์ของคุณในกล่อง**ชื่อโฟลว์** จากนั้นเลือก**สร้างโฟลว์**เพื่อบันทึก

ยินดีด้วย โฟลว์ของคุณเสร็จสมบูรณ์แล้ว! ถ้าคุณได้ทำตาม โฟลว์ของคุณจะคล้ายกับรูปภาพนี้

![รูปภาพขั้นตอนโดยรวม](media/all-assigned-must-approve/overall-flow.png)

ตอนนี้ เมื่อใดก็ตามที่รายการถูกเพิ่มลงในรายการ SharePoint หรือถ้ารายการมีการเปลี่ยนแปลง โฟลว์ของคุณจะทริกเกอร์ และส่งคำขออนุมัติไปยังผู้อนุมัติทั้งหมดซึ่งแสดงอยู่ในกล่อง**กำหนดให้** ของการ์ด**เริ่มการอนุมัติ** โฟลว์ของคุณส่งคำขอการอนุมัติ ผ่านแอปสำหรับอุปกรณ์เคลื่อนที่ของ Microsoft Flow และผ่านทางอีเมล บุคคลที่สร้างรายการใน SharePoint รับอีเมลที่สรุปผลลัพธ์ไว้ชัดเจนว่า คำขอได้รับการอนุมัติหรือปฏิเสธ

นี่คือตัวอย่างของคำขออนุมัติที่ถูกส่งไปยังผู้อนุมัติแต่ละราย

![คำขออนุมัติ](media/all-assigned-must-approve/approval-request.png)

นี่คือตัวอย่างของการตอบสนองและสรุปการตอบสนอง หลังจากที่โฟลว์ของคุณทำงาน

![โทเค็นการตอบสนอง](media/all-assigned-must-approve/response-output.png)

## <a name="learn-more-about-approvals"></a>เรียนรู้เพิ่มเติมเกี่ยวกับการอนุมัติ

* [ผู้อนุมัติรายเดียวในการอนุมัติที่ทันสมัย](modern-approvals.md)
* [การอนุมัติตามลำดับที่ทันสมัย](sequential-modern-approvals.md)
* [การอนุมัติแบบขนานที่ทันสมัย](parallel-modern-approvals.md)
* [การอนุมัติและ Microsoft Common Data Service](common-data-model-approve.md)
* [การอนุมัติระหว่างเดินทาง](mobile-approvals.md)
