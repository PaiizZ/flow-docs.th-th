---
title: ทำความเข้าใจเกี่ยวกับการดำเนินการข้อมูล | Microsoft Docs
description: เรียนรู้วิธีดำเนินการ เช่น สร้างตาราง HTML, สร้างตาราง CSV, เขียน, รวม, เลือก และตัวกรองอาร์เรย์ด้วย Microsoft Flow
services: ''
suite: flow
documentationcenter: na
author: MSFTMan
manager: anneta
editor: ''
tags: ''
ms.service: flow
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 08/02/2017
ms.author: deonhe
search.app:
- Flow
search.audienceType:
- flowmaker
- enduser
ms.openlocfilehash: c28fa7feb743db4616199246d6d517e2e1f6aff9
ms.sourcegitcommit: a20fbed9941f0cd8b69dc579277a30da9c8bb31b
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 09/12/2018
ms.locfileid: "44691009"
---
# <a name="use-data-operations-with-microsoft-flow"></a>ใช้การดำเนินการข้อมูล ด้วย Microsoft Flow
ในการฝึกปฏิบัตินี้ คุณจะได้เรียนรู้เกี่ยวกับการดำเนินการข้อมูลบางตัวที่ได้รับความนิยมของ Microsoft Flow เช่น เขียน, รวม, เลือก, ตัวกรองอาร์เรย์, สร้างตาราง และแยกวิเคราะห์ JSON เพื่อใข้จัดการกับข้อมูลเมื่อคุณสร้างโฟลว์

## <a name="prerequisites"></a>ข้อกำหนดเบื้องต้น
* การเข้าถึง Microsoft Flow
* เครื่องมือเช่น [PostMan](https://www.getpostman.com/postman) เพื่อส่งคำขอ HTTP POST กับอาร์เรย์ JSON ไปยังโฟลว์ของคุณ

## <a name="use-the-compose-action"></a>ใช้การดำเนินการเขียน
ใช้ **การดำเนินการข้อมูล - เขียน** (compose) เพื่อจะได้ไม่ต้องใส่ข้อมูลที่เหมือนกันหลายครั้งเมื่อคุณกำลังออกแบบโฟลว์ ตัวอย่างเช่น ถ้าคุณจำเป็นต้องใส่อาร์เรย์ของตัวเลข:````[0,1,2,3,4,5,6,7,8,9]```` หลาย ๆ ครั้งเมื่อคุณออกแบบโฟลว์ของคุณ คุณสามารถใช้การดำเนินการเขียนเพื่อบันทึกอาร์เรย์ดังนี้:

1. ค้นหา**เขียน** แล้วเลือก **การดำเนินงานข้อมูล - เขียน** (compose)
   
    ![ค้นหา และเลือกการดำเนินการเขียน](./media/data-operations/search-select-compose.png)
2. ใส่อาร์เรย์ลงในกล่อง**ข้อมูลที่ป้อนเข้า**ที่คุณต้องการอ้างอิงในภายหลัง:
   
    ![กำหนดค่าการดำเนินการเขียน](./media/data-operations/add-array-compose.png)

> [!TIP]
> เพื่อให้อ้างอิงภายหลังได้ง่ายขึ้น เปลี่ยนชื่อการ์ด**เขียน** โดยคลิกที่ข้อความ "เขียน" บนแถบชื่อเรื่องของการ์ด**เขียน**
> 
> 

เมื่อคุณต้องการเข้าถึงเนื้อหาของการดำเนินการเขียน ทำผ่านโทเค็น**ผลลัพธ์** บนรายการ**เพิ่มเนื้อหาแบบไดนามิกจากแอปและตัวเชื่อมต่อต่างๆ ที่ใช้ในโฟลว์นี้** โดยทำตามขั้นตอนเหล่านี้:

1. เพิ่มการดำเนินการ เช่น **การดำเนินการข้อมูล – รวม**
2. เลือกตัวควบคุมที่คุณต้องการเพิ่มเนื้อหาที่คุณบันทึกไว้ในการดำเนินการเขียน
   
    **เพิ่มเนื้อหาแบบไดนามิกจากแอปและตัวเชื่อมต่อต่างๆ ที่ใช้ในโฟลว์นี้** จะเปิดขึ้น
3. บน **เพิ่มเนื้อหาแบบไดนามิกจากแอปและตัวเชื่อมต่อต่างๆ ที่ใช้ในโฟลว์นี้** เลือกโทเค็น**ผลลัพธ์** ที่อยู่ภายใต้ประเภท**เขียน** ของแท็บ**เนื้อหาแบบไดนามิก**
   
    ![ใช้ผลลัพธ์จากการดำเนินการเขียน](./media/data-operations/use-compose-output.png)

## <a name="use-the-join-action"></a>ใช้การดำเนินการรวม
ใช้ **การดำเนินงานข้อมูล - รวม** (Join) เพื่อเปลี่ยนตัวคั่นของอาร์เรย์ด้วยตัวคั่นที่คุณเลือก ตัวอย่างเช่น สมมุติว่าโฟลว์ของคุณได้รับการร้องขอเว็บที่มีอาร์เรย์ของที่อยู่อีเมลต่อไปนี้: ````["d@example.com", "k@example.com", "dal@example.com"]```` แต่โปรแกรมอีเมลของคุณต้องการสตริงเดียวที่ถูกคั่นด้วยเครื่องหมายอัฒภาค เพื่อทำเช่นนี้ ใช้ **การดำเนินงานข้อมูล - รวม** (join) เพื่อเปลี่ยนตัวคั่นจากเครื่องหมายจุลภาคเป็นเครื่องหมายอัฒภาค โดยทำตามขั้นตอนเหล่านี้:

1. เพิ่มการดำเนินการใหม่ ค้นหา**รวม** แล้วเลือก**การดำเนินงานข้อมูล - รวม** (join)
   
    ![ค้นหา และเลือกการดำเนินการรวม](./media/data-operations/search-select-join.png)
2. ใส่อาร์เรย์ลงในกล่อง**จาก** จากนั้นใส่ตัวคั่นใหม่ที่คุณต้องการใช้ลงในกล่อง**รวมกับ**
   
    ตรงนี้ ฉันได้ใช้เครื่องหมายอัฒภาค (;) เป็นตัวคั่นใหม่
   
    ![กำหนดค่าการดำเนินการรวม](./media/data-operations/add-array-join.png)
3. บันทึกโฟลว์ของคุณ และจากนั้นเรียกใช้
4. หลังจากคุณเรียกใช้โฟลว์ ผลลัพธ์ของ **การดำเนินการข้อมูล – รวม** จะเป็น:
   
    ![แสดงผลรวม](./media/data-operations/join-output.png)

## <a name="use-the-select-action"></a>ใช้การดำเนินการเลือก
ใช้ **การดำเนินการข้อมูล – เลือก** (select) เพื่อแปลงรูปร่างของออบเจ็กต์ในอาร์เรย์ ตัวอย่างเช่น คุณอาจเพิ่ม, ลบ หรือเปลี่ยนชื่อองค์ประกอบในแต่ละออบเจ็กต์ในอาร์เรย์

> [!NOTE]
> ในขณะที่คุณสามารถเพิ่มหรือเอาองค์ประกอบออกด้วยการดำเนินการเลือก คุณไม่สามารถเปลี่ยนจำนวนของออบเจ็กต์ในอาร์เรย์
> 
> 

ตัวอย่างเช่น คุณสามารถใช้การดำเนินการเลือก ถ้าข้อมูลที่เข้าโฟลว์ของคุณผ่านการร้องขอเว็บในรูปแบบนี้:

````[ { "first": "Deon", "last": "Herb" }, { "first": "K", "last": "Herb" } ]````

และคุณต้องการปรับรูปร่างข้อมูลขาเข้า โดยการเปลี่ยนชื่อ "first" เป็น "FirstName", "last" เป็น "LastName" และเพิ่มสมาชิกใหม่ที่ชื่อ "FamilyName" ที่รวม "first" และ "last" (คั่นด้วยช่องว่าง):

````[ { "FirstName": "Deon", "FamilyName": "Herb", "FullName": "Deon Herb" }, { "FirstName": "K", "FamilyName": "Herb", "FullName": "K Herb" } ]````

โดยทำดังนี้:

1. เพิ่มการดำเนินการ **การร้องขอ / การตอบสนอง – การตอบสนอง** (คำขอ) สำหรับโฟลว์ของคุณ
2. เลือก **ใช้ส่วนข้อมูลของตัวอย่างเพื่อสร้าง Schema** จากการ์ด**คำขอ**
3. ในกล่องที่แสดง วางตัวอย่างของอาร์เรย์ข้อมูลต้นทางของคุณ จากนั้นเลือกปุ่ม**เสร็จสิ้น**
4. เพิ่ม **การดำเนินการข้อมูล – เลือก** (select) และกำหนดค่าดังรูปต่อไปนี้
   
    ![กำหนดค่าการกระทำการเลือก](./media/data-operations/select-card.png)
   
   > [!TIP]
   > ผลลัพธ์จากการกระทำการเลือก เป็นอาร์เรย์ที่ประกอบด้วยออบเจ็กต์ที่มีรูปร่างใหม่ คุณสามารถใช้อาร์เรย์นี้ในการกระทำอื่น ๆ เช่น **เขียน** ที่กล่าวถึงก่อนหน้านี้ได้
   > 
   > 

## <a name="use-the-filter-array-action"></a>ใช้การดำเนินการกรองอาร์เรย์
ใช้ **การดำเนินงานข้อมูล - ตัวกรองอาร์เรย์** (filter array) เพื่อลดจำนวนของออบเจ็กต์ในอาร์เรย์ ให้เป็นเซตย่อยที่ตรงกับเกณฑ์ที่คุณระบุ

> [!NOTE]
> ไม่สามารถใช้ตัวกรองอาร์เรย์เพื่อเปลี่ยนรูปร่างของออบเจ็กต์ในอาร์เรย์ นอกจากนี้ ข้อความที่คุณกรองจะต้องตรงตามตัวพิมพ์ใหญ่-เล็ก
> 
> 

ตัวอย่างเช่น คุณสามารถใช้ตัวกรองอาร์เรย์ในอาร์เรย์นี้:

````[ { "first": "Deon", "last": "Herb" }, { "first": "K", "last": "Herb" } ]````

เพื่อสร้างอาร์เรย์ใหม่ที่มีเฉพาะออบเจ็กต์ซึ่ง *first* ถูกตั้งค่าเป็น "Deon"

เราลองมาทำกัน

1. ค้นหา และเพิ่ม **การดำเนินงานข้อมูล - ตัวกรองอาร์เรย์** (filter array) สำหรับโฟลว์ของคุณ
2. กำหนดค่าการดำเนินการตัวกรองอาร์เรย์ ให้เหมือนรูปต่อไปนี้
   
    ![กำหนดค่าการดำเนินการตัวกรองอาร์เรย์](./media/data-operations/add-configure-filter-array.png)
3. บันทึก จากนั้นเรียกใช้โฟลว์ของคุณ
   
    คุณสามารถใช้ [PostMan](https://www.getpostman.com/postman) เพื่อสร้างการร้องขอเว็บที่ส่งอาร์เรย์ JSON ไปที่โฟลว์ของคุณได้
4. เมื่อโฟลว์ของคุณทำงาน สมมติว่าข้อมูล JSON ที่ป้อนเข้ามีลักษณะดังอาร์เรย์นี้:
   
    ````[ { "first": "Deon", "last": "Herb" }, { "first": "K", "last": "Herb" } ]````
   
    ผลลัพธ์จะมีลักษณะเหมือนอาร์เรย์นี้ (สังเกตว่ามีเฉพาะออบเจ็กต์ ซึ่ง *first* ถูกตั้งค่าเป็น "Deon" เท่านั้น ที่จะรวมอยู่ในผลลัพธ์ของการดำเนินการ):
   
    ````[ { "first": "Deon", "last": "Herb" } ]````

## <a name="use-the-create-csv-table-action"></a>ใช้การดำเนินการสร้างตาราง CSV
ใช้ **การดำเนินงานข้อมูล - สร้างตาราง CSV** (Create CSV table) เพื่อแปลงอาร์เรย์ JSON ที่ป้อนเข้า ให้อยู่ในรูปตาราง ค่าที่แบ่งด้วยเครื่องหมายจุลภาค (CSV) คุณมีทางเลือกที่จะเก็บส่วนหัวให้ปรากฏในผลลัพธ์ CSV ด้วยก็ได้ ตัวอย่างเช่น คุณสามารถแปลงอาร์เรย์ต่อไปนี้ให้เป็นตาราง CSV โดยใช้การดำเนินการ**สร้างตาราง CSV**:

````[ { "first": "Deon", "last": "Herb" }, { "first": "K", "last": "Herb" } ]````

1. ค้นหา, เพิ่ม แล้วกำหนดค่า **การดำเนินงานข้อมูล - สร้างตาราง CSV** ให้คล้ายกับรูปต่อไปนี้
   
    ![กำหนดค่าการดำเนินการสร้างตาราง CSV](./media/data-operations/create-csv-table.png)
   
    หมายเหตุ: โทเค็น**เนื้อความ**ในรูปนี้มาจากการดำเนินการ **การร้องขอ / การตอบสนอง – การตอบสนอง** แต่คุณสามารถรับข้อมูลการป้อนสำหรับการดำเนินการ**สร้างตาราง CSV** จากผลลัพธ์ของการดำเนินการใด ๆ ก่อนหน้านี้ในโฟลว์ของคุณ หรือคุณสามารถใส่ได้โดยตรงลงในกล่อง**จาก**ได้
2. บันทึก จากนั้นเรียกใช้โฟลว์ของคุณ
   
    เมื่อโฟลว์ของคุณทำงาน ผลลัพธ์ของ**สร้างตาราง CSV** มีลักษณะเหมือนกับรูปภาพนี้:
   
    ![ผลลัพธ์สร้างตาราง CSV](./media/data-operations/create-csv-table-output.png)

## <a name="use-the-create-html-table-action"></a>ใช้การดำเนินการสร้างตาราง HTML
ใช้ **การดำเนินงานข้อมูล - สร้างตาราง HTML** เพื่อแปลงอาร์เรย์ขาเข้า JSON ให้เป็นตาราง HTML คุณสามารถเก็บส่วนหัวให้มองเห็นได้ในผลลัพธ์ของ HTML เป็นทางเลือก

ทำตามขั้นตอนใน[ส่วนสร้างตาราง CSV](#use-the-create-csv-table-action) สำหรับตัวอย่างโดยละเอียด โปรดแน่ใจว่าได้ใช้ **การดำเนินงานข้อมูล - สร้างตาราง HTML** แทน **การดำเนินงานข้อมูล - สร้างตาราง CSV**

> [!TIP]
> ถ้าคุณวางแผนที่จะส่งตาราง HTML ผ่านทางอีเมล อย่าลืมเลือก "IsHtml" ในการดำเนินการอีเมล
> 
> 

